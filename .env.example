# ================================
# Online Cinema - Environment Variables
# ================================
# Copy this file to .env and update values
# cp .env.example .env

# ================================
# PostgreSQL
# ================================
POSTGRES_DB=cinema
POSTGRES_USER=cinema
POSTGRES_PASSWORD=cinema123
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database URLs for services
AUTH_DATABASE_URL=postgresql://cinema:cinema123@localhost:5432/auth_db
USER_DATABASE_URL=postgresql://cinema:cinema123@localhost:5432/user_db
CATALOG_DATABASE_URL=postgresql://cinema:cinema123@localhost:5432/catalog_db
PAYMENT_DATABASE_URL=postgresql://cinema:cinema123@localhost:5432/payment_db

# ================================
# Redis
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0
REDIS_URL=redis://:redis123@localhost:6379/0

# ================================
# Kafka
# ================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_PREFIX=cinema
KAFKA_CONSUMER_GROUP_ID=cinema-consumer

# ================================
# Elasticsearch
# ================================
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=cinema

# ================================
# ClickHouse
# ================================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=analytics
CLICKHOUSE_URL=http://localhost:8123

# ================================
# MinIO (S3-Compatible Storage)
# ================================
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_MOVIES=movies
MINIO_BUCKET_THUMBNAILS=thumbnails
MINIO_BUCKET_SUBTITLES=subtitles
MINIO_USE_SSL=false

# ================================
# API Gateway
# ================================
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8000
KONG_ADMIN_URL=http://localhost:8001

# ================================
# JWT Authentication
# ================================
JWT_SECRET_KEY=your-secret-key-change-me-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ================================
# OAuth2 (Optional)
# ================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=

# ================================
# Payment Providers
# ================================
STRIPE_API_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# ================================
# Email (SendGrid/AWS SES)
# ================================
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@cinema.example.com
SENDGRID_FROM_NAME=Online Cinema

AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY=
AWS_SES_SECRET_KEY=

# ================================
# Push Notifications (Firebase)
# ================================
FIREBASE_CREDENTIALS_PATH=/path/to/firebase-credentials.json
FIREBASE_PROJECT_ID=

# ================================
# External APIs
# ================================
# TMDb (The Movie Database)
TMDB_API_KEY=
TMDB_API_URL=https://api.themoviedb.org/3

# IMDB
IMDB_API_KEY=

# ================================
# Monitoring & Observability
# ================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
GRAFANA_PORT=3000

# Jaeger
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLER_TYPE=const
JAEGER_SAMPLER_PARAM=1

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# ================================
# Application Settings
# ================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ================================
# CDN (Cloudflare/CloudFront)
# ================================
CDN_ENABLED=false
CDN_URL=https://cdn.cinema.example.com
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=

AWS_CLOUDFRONT_DISTRIBUTION_ID=
AWS_CLOUDFRONT_DOMAIN=

# ================================
# Celery
# ================================
CELERY_BROKER_URL=redis://:redis123@localhost:6379/1
CELERY_RESULT_BACKEND=redis://:redis123@localhost:6379/2

# ================================
# Airflow
# ================================
AIRFLOW_HOME=/opt/airflow
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql://cinema:cinema123@localhost:5432/airflow
AIRFLOW__CELERY__BROKER_URL=redis://:redis123@localhost:6379/3
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://cinema:cinema123@localhost:5432/airflow

# ================================
# pgAdmin (Optional)
# ================================
PGADMIN_EMAIL=admin@cinema.local
PGADMIN_PASSWORD=admin

# ================================
# Feature Flags
# ================================
FEATURE_RECOMMENDATIONS_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true
FEATURE_PAYMENTS_ENABLED=false

# ================================
# Video Transcoding
# ================================
FFMPEG_THREADS=4
VIDEO_QUALITY_LEVELS=240p,360p,480p,720p,1080p
VIDEO_CODEC=h264
AUDIO_CODEC=aac

# ================================
# Security
# ================================
ALLOWED_HOSTS=localhost,127.0.0.1
SECURE_SSL_REDIRECT=false
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false

# ================================
# Backup
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=cinema-backups
